--
-- PostgreSQL database dump
--

-- Dumped from database version 15.4 (Debian 15.4-2.pgdg120+1)
-- Dumped by pg_dump version 16.0

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: email_address; Type: DOMAIN; Schema: public; Owner: admin
--

CREATE DOMAIN public.email_address AS text
    CONSTRAINT valid_email_format CHECK ((VALUE ~* '^(?:[^<>()\[\]\\.,;:\s@"]+(?:\.[^<>()\[\]\\.,;:\s@"]+)*|".+")@((?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})$'::text));


ALTER DOMAIN public.email_address OWNER TO admin;

--
-- Name: ethereum_addresses; Type: DOMAIN; Schema: public; Owner: admin
--

CREATE DOMAIN public.ethereum_addresses AS text
    CONSTRAINT valid_ethereum_address CHECK ((VALUE ~* '^0x[a-fA-F0-9]{40}$'::text));


ALTER DOMAIN public.ethereum_addresses OWNER TO admin;

--
-- Name: question_levels; Type: TYPE; Schema: public; Owner: admin
--

CREATE TYPE public.question_levels AS ENUM (
    'easy',
    'medium',
    'hard'
    );


ALTER TYPE public.question_levels OWNER TO admin;

--
-- Name: question_types; Type: TYPE; Schema: public; Owner: admin
--

CREATE TYPE public.question_types AS ENUM (
    'choice',
    'descriptive',
    'table'
    );


ALTER TYPE public.question_types OWNER TO admin;

--
-- Name: user_role; Type: DOMAIN; Schema: public; Owner: admin
--

CREATE DOMAIN public.user_role AS text
    CONSTRAINT user_role_check CHECK ((VALUE = ANY (ARRAY['administrator'::text, 'staff'::text, 'user'::text])));


ALTER DOMAIN public.user_role OWNER TO admin;

--
-- Name: user_university_role; Type: DOMAIN; Schema: public; Owner: admin
--

CREATE DOMAIN public.user_university_role AS text
    CONSTRAINT user_university_role_check CHECK ((VALUE = ANY (ARRAY['dosen'::text, 'mahasiswa'::text])));


ALTER DOMAIN public.user_university_role OWNER TO admin;

--
-- Name: users_identity_gender; Type: DOMAIN; Schema: public; Owner: admin
--

CREATE DOMAIN public.users_identity_gender AS text
    CONSTRAINT user_identity_gender_check CHECK ((VALUE = ANY (ARRAY['male'::text, 'female'::text])));


ALTER DOMAIN public.users_identity_gender OWNER TO admin;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: _sqlx_migrations; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public._sqlx_migrations (
                                         version bigint NOT NULL,
                                         description text NOT NULL,
                                         installed_on timestamp with time zone DEFAULT now() NOT NULL,
                                         success boolean NOT NULL,
                                         checksum bytea NOT NULL,
                                         execution_time bigint NOT NULL
);


ALTER TABLE public._sqlx_migrations OWNER TO admin;

--
-- Name: blockchain_authentication; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.blockchain_authentication (
                                                  blockchain_auth_id integer NOT NULL,
                                                  public_address public.ethereum_addresses NOT NULL
);


ALTER TABLE public.blockchain_authentication OWNER TO admin;

--
-- Name: blockchain_authentication_blockchain_auth_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

ALTER TABLE public.blockchain_authentication ALTER COLUMN blockchain_auth_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.blockchain_authentication_blockchain_auth_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
    );


--
-- Name: class_grades; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.class_grades (
                                     grade_id uuid NOT NULL,
                                     student_id uuid NOT NULL,
                                     class_id uuid NOT NULL,
                                     grade_value numeric(5,2) NOT NULL
);


ALTER TABLE public.class_grades OWNER TO admin;

--
-- Name: class_schedule; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.class_schedule (
                                       schedule_id uuid DEFAULT gen_random_uuid() NOT NULL,
                                       class_id uuid NOT NULL,
                                       start_time timestamp with time zone NOT NULL,
                                       end_time timestamp with time zone
);


ALTER TABLE public.class_schedule OWNER TO admin;

--
-- Name: class_students; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.class_students (
                                       class_id uuid NOT NULL,
                                       student_id uuid NOT NULL
);


ALTER TABLE public.class_students OWNER TO admin;

--
-- Name: class_teachers; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.class_teachers (
                                       class_id uuid NOT NULL,
                                       teacher_id uuid NOT NULL
);


ALTER TABLE public.class_teachers OWNER TO admin;

--
-- Name: classes; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.classes (
                                class_id uuid DEFAULT gen_random_uuid() NOT NULL,
                                subject_id uuid NOT NULL,
                                is_active boolean NOT NULL,
                                name text NOT NULL,
                                description text NOT NULL,
                                capacity integer NOT NULL
);


ALTER TABLE public.classes OWNER TO admin;

--
-- Name: exam_sessions; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.exam_sessions (
                                      session_id uuid DEFAULT gen_random_uuid() NOT NULL,
                                      exam_id uuid NOT NULL,
                                      user_id uuid NOT NULL,
                                      start_time timestamp with time zone NOT NULL,
                                      end_time timestamp with time zone NOT NULL
);


ALTER TABLE public.exam_sessions OWNER TO admin;

--
-- Name: exam_settings; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.exam_settings (
                                      exam_id uuid NOT NULL,
                                      passing_score numeric(5,2) NOT NULL,
                                      multiple_attempts_allowed boolean DEFAULT false NOT NULL,
                                      randomize_question boolean DEFAULT false NOT NULL,
                                      time_limit integer NOT NULL
);


ALTER TABLE public.exam_settings OWNER TO admin;

--
-- Name: COLUMN exam_settings.time_limit; Type: COMMENT; Schema: public; Owner: admin
--

COMMENT ON COLUMN public.exam_settings.time_limit IS 'in seconds';


--
-- Name: exams; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.exams (
                              exam_id uuid DEFAULT gen_random_uuid() NOT NULL,
                              class_id uuid NOT NULL,
                              subject_id uuid NOT NULL,
                              name text NOT NULL,
                              description text,
                              created_by uuid NOT NULL,
                              created_at timestamp with time zone DEFAULT now() NOT NULL,
                              updated_at timestamp with time zone DEFAULT now() NOT NULL
);


ALTER TABLE public.exams OWNER TO admin;

--
-- Name: exams_score; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.exams_score (
                                    user_id uuid NOT NULL,
                                    exam_id uuid NOT NULL,
                                    score numeric(5,2) NOT NULL
);


ALTER TABLE public.exams_score OWNER TO admin;

--
-- Name: game; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.game (
                             version bigint NOT NULL,
                             description text,
                             installed_on timestamp with time zone DEFAULT now() NOT NULL,
                             is_live boolean NOT NULL,
                             updated_at timestamp with time zone DEFAULT now() NOT NULL,
                             created_at timestamp with time zone DEFAULT now() NOT NULL
);


ALTER TABLE public.game OWNER TO admin;

--
-- Name: notification; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.notification (
                                     notification_id uuid NOT NULL,
                                     user_id uuid NOT NULL,
                                     message text NOT NULL,
                                     date_sent timestamp with time zone NOT NULL
);


ALTER TABLE public.notification OWNER TO admin;

--
-- Name: question_choices; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.question_choices (
                                         choice_id uuid DEFAULT gen_random_uuid() NOT NULL,
                                         question_id uuid NOT NULL,
                                         choice_text text NOT NULL,
                                         is_correct boolean NOT NULL
);


ALTER TABLE public.question_choices OWNER TO admin;

--
-- Name: question_exams; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.question_exams (
                                       question_id uuid NOT NULL,
                                       exam_id uuid NOT NULL
);


ALTER TABLE public.question_exams OWNER TO admin;

--
-- Name: questions; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.questions (
                                  question_id uuid DEFAULT gen_random_uuid() NOT NULL,
                                  question_text text NOT NULL,
                                  question_type public.question_types NOT NULL,
                                  choice_answer_id uuid,
                                  text_answer text,
                                  table_answer jsonb,
                                  table_question jsonb
);


ALTER TABLE public.questions OWNER TO admin;

--
-- Name: student_answers; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.student_answers (
                                        answer_id uuid DEFAULT gen_random_uuid() NOT NULL,
                                        user_id uuid NOT NULL,
                                        question_id uuid NOT NULL,
                                        choice_answer_id uuid,
                                        text_answer text,
                                        table_answer jsonb
);


ALTER TABLE public.student_answers OWNER TO admin;

--
-- Name: student_schedule; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.student_schedule (
                                         schedule_id uuid DEFAULT gen_random_uuid() NOT NULL,
                                         student_id uuid NOT NULL,
                                         start_time timestamp with time zone NOT NULL,
                                         end_time timestamp with time zone
);


ALTER TABLE public.student_schedule OWNER TO admin;

--
-- Name: students; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.students (
                                 student_id uuid DEFAULT gen_random_uuid() NOT NULL,
                                 user_id uuid NOT NULL
);


ALTER TABLE public.students OWNER TO admin;

--
-- Name: subjects; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.subjects (
                                 subject_id uuid DEFAULT gen_random_uuid() NOT NULL,
                                 name text NOT NULL
);


ALTER TABLE public.subjects OWNER TO admin;

--
-- Name: teacher_schedule; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.teacher_schedule (
                                         schedule_id uuid DEFAULT gen_random_uuid() NOT NULL,
                                         teacher_id uuid NOT NULL,
                                         start_time timestamp with time zone NOT NULL,
                                         end_time timestamp with time zone
);


ALTER TABLE public.teacher_schedule OWNER TO admin;

--
-- Name: teachers; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.teachers (
                                 teacher_id uuid DEFAULT gen_random_uuid() NOT NULL,
                                 user_id uuid NOT NULL
);


ALTER TABLE public.teachers OWNER TO admin;

--
-- Name: university; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.university (
                                   university_id integer NOT NULL,
                                   name text NOT NULL
);


ALTER TABLE public.university OWNER TO admin;

--
-- Name: university_faculty; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.university_faculty (
                                           faculty_id integer NOT NULL,
                                           university_id integer,
                                           faculty_name text NOT NULL
);


ALTER TABLE public.university_faculty OWNER TO admin;

--
-- Name: university_university_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

ALTER TABLE public.university ALTER COLUMN university_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.university_university_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
    );


--
-- Name: users; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.users (
                              user_id uuid DEFAULT gen_random_uuid() NOT NULL,
                              email public.email_address NOT NULL,
                              password_hash text NOT NULL,
                              nickname text NOT NULL,
                              is_verified boolean NOT NULL,
                              created_at timestamp with time zone DEFAULT now() NOT NULL,
                              role public.user_role NOT NULL,
                              updated_at timestamp with time zone DEFAULT now() NOT NULL
);


ALTER TABLE public.users OWNER TO admin;

--
-- Name: users_external_authentication; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.users_external_authentication (
                                                      external_authentication_id integer NOT NULL,
                                                      user_id uuid NOT NULL,
                                                      blockchain_auth_id integer
);


ALTER TABLE public.users_external_authentication OWNER TO admin;

--
-- Name: users_external_authentication_external_authentication_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

ALTER TABLE public.users_external_authentication ALTER COLUMN external_authentication_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_external_authentication_external_authentication_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
    );


--
-- Name: users_identity; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.users_identity (
                                       users_identity_id integer NOT NULL,
                                       users_id uuid NOT NULL,
                                       full_name text NOT NULL,
                                       gender public.users_identity_gender NOT NULL
);


ALTER TABLE public.users_identity OWNER TO admin;

--
-- Name: users_identity_users_identity_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

ALTER TABLE public.users_identity ALTER COLUMN users_identity_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_identity_users_identity_id_seq
    START WITH 0
    INCREMENT BY 1
    MINVALUE 0
    NO MAXVALUE
    CACHE 1
    );


--
-- Name: users_university_identity; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.users_university_identity (
                                                  users_university_id integer NOT NULL,
                                                  users_id uuid NOT NULL,
                                                  users_identity_id integer NOT NULL,
                                                  users_university_role public.user_university_role NOT NULL,
                                                  university_id integer NOT NULL,
                                                  university_faculty_id integer NOT NULL
);


ALTER TABLE public.users_university_identity OWNER TO admin;

--
-- Name: COLUMN users_university_identity.users_university_id; Type: COMMENT; Schema: public; Owner: admin
--

COMMENT ON COLUMN public.users_university_identity.users_university_id IS 'known as NIM, NPM, NIP, etc.';


--
-- Data for Name: _sqlx_migrations; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public._sqlx_migrations VALUES (20230906124156, 'init', '2023-09-19 14:31:01.901652+00', true, '\x656706f1f41eb6ce9055c94b080341fc98e239b89bec40836803b8413d2b3ee2b75dc10ea49b0dd779ca7520f07c2929', 32722300);


--
-- Data for Name: blockchain_authentication; Type: TABLE DATA; Schema: public; Owner: admin
--



--
-- Data for Name: class_grades; Type: TABLE DATA; Schema: public; Owner: admin
--



--
-- Data for Name: class_schedule; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.class_schedule VALUES ('36c31d0b-9b14-4856-9c3a-1631d72b1f1e', '06e5c7ac-801e-457d-a576-94e34c3b12cd', '2023-10-21 20:26:56.619+00', '2023-10-21 23:59:59.053+00');


--
-- Data for Name: class_students; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.class_students VALUES ('5b099ac5-5b17-4614-b7dd-4dfb26734eec', 'dcd3aaee-391b-4d72-9994-ba2a6409cb2c');
INSERT INTO public.class_students VALUES ('a08f5d29-af34-490c-884f-18e73a50393f', '2852ed68-c7e6-4655-9f1a-7baede899f06');
INSERT INTO public.class_students VALUES ('06e5c7ac-801e-457d-a576-94e34c3b12cd', '2852ed68-c7e6-4655-9f1a-7baede899f06');


--
-- Data for Name: class_teachers; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.class_teachers VALUES ('5b099ac5-5b17-4614-b7dd-4dfb26734eec', 'ac0b6326-0ee3-4acb-bc17-a2f43a5e74ae');
INSERT INTO public.class_teachers VALUES ('9b7aaf07-c88e-40c5-97ef-d6afd25fd767', 'ac0b6326-0ee3-4acb-bc17-a2f43a5e74ae');
INSERT INTO public.class_teachers VALUES ('06e5c7ac-801e-457d-a576-94e34c3b12cd', 'ac0b6326-0ee3-4acb-bc17-a2f43a5e74ae');


--
-- Data for Name: classes; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.classes VALUES ('a08f5d29-af34-490c-884f-18e73a50393f', '282f8c86-1432-4e8f-8f3c-a49bedf931dd', true, 'Test class #10', 'Lorem ipsum dolor sit amet', 40);
INSERT INTO public.classes VALUES ('349e16c4-4801-4f6a-a850-a971f30af3da', '282f8c86-1432-4e8f-8f3c-a49bedf931dd', true, 'Test class #7', 'Lorem ipsum dolor sit amet', 40);
INSERT INTO public.classes VALUES ('5b099ac5-5b17-4614-b7dd-4dfb26734eec', 'd24a4a07-9576-48dd-ad6b-daad5fe05058', true, 'Test class #2', 'Lorem ipsum dolor sit amet', 40);
INSERT INTO public.classes VALUES ('4b3cd71b-6e28-41d4-b620-5a9ced60f452', 'd24a4a07-9576-48dd-ad6b-daad5fe05058', true, 'Test class #4', 'Lorem ipsum dolor sit amet', 40);
INSERT INTO public.classes VALUES ('5b681f91-ff2a-4b39-89d9-c0ad76a7305d', 'd24a4a07-9576-48dd-ad6b-daad5fe05058', true, 'Test class #8', 'Lorem ipsum dolor sit amet', 40);
INSERT INTO public.classes VALUES ('103470f8-64be-445c-9048-8512392ae8c3', 'd24a4a07-9576-48dd-ad6b-daad5fe05058', true, 'Test class #3', 'Lorem ipsum dolor sit amet', 40);
INSERT INTO public.classes VALUES ('3405e8dd-5458-4e6d-a24b-007751caaf01', '282f8c86-1432-4e8f-8f3c-a49bedf931dd', true, 'Test class #6', 'Lorem ipsum dolor sit amet', 40);
INSERT INTO public.classes VALUES ('c7895bf8-a712-4e7a-81bb-8c3ba7d69072', 'd24a4a07-9576-48dd-ad6b-daad5fe05058', true, 'Test class #5', 'Lorem ipsum dolor sit amet', 40);
INSERT INTO public.classes VALUES ('9b7aaf07-c88e-40c5-97ef-d6afd25fd767', '282f8c86-1432-4e8f-8f3c-a49bedf931dd', true, 'Test class #9', 'Lorem ipsum dolor sit amet', 40);
INSERT INTO public.classes VALUES ('06e5c7ac-801e-457d-a576-94e34c3b12cd', '282f8c86-1432-4e8f-8f3c-a49bedf931dd', true, 'Test class #1', 'Lorem ipsum dolor sit amet', 40);


--
-- Data for Name: exam_sessions; Type: TABLE DATA; Schema: public; Owner: admin
--



--
-- Data for Name: exam_settings; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.exam_settings VALUES ('60fff264-2e9e-476e-9d05-10e38d1c8bca', 70.00, false, false, 3600);


--
-- Data for Name: exams; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.exams VALUES ('60fff264-2e9e-476e-9d05-10e38d1c8bca', '06e5c7ac-801e-457d-a576-94e34c3b12cd', '282f8c86-1432-4e8f-8f3c-a49bedf931dd', 'Test Exams', 'Lorem ipsum dolor sit amet assalamualaikum Jamet.', 'c3f04a30-38ac-474d-b7da-8fb889495d75', '2023-10-13 01:35:18.65+00', '2023-10-13 01:35:20.958+00');


--
-- Data for Name: exams_score; Type: TABLE DATA; Schema: public; Owner: admin
--



--
-- Data for Name: game; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.game VALUES (1, 'Alpha Version', '2023-09-21 13:09:49.033+00', true, '2023-09-21 13:09:49.033+00', '2023-09-21 13:09:49.033+00');


--
-- Data for Name: notification; Type: TABLE DATA; Schema: public; Owner: admin
--



--
-- Data for Name: question_choices; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.question_choices VALUES ('e916a0ed-2e4f-4ee7-a27f-25847a5f3eb4', '68102cd3-e903-4b34-8de8-68192ce8939d', '2', false);
INSERT INTO public.question_choices VALUES ('e5622c74-8780-42f3-8309-72562dff6a4f', '68102cd3-e903-4b34-8de8-68192ce8939d', '3', false);
INSERT INTO public.question_choices VALUES ('76c778ed-d24b-4f52-a514-aa5203e410cd', '68102cd3-e903-4b34-8de8-68192ce8939d', '4', true);
INSERT INTO public.question_choices VALUES ('50444288-829d-47ff-a120-5e864e77d9c6', '68102cd3-e903-4b34-8de8-68192ce8939d', '5', false);
INSERT INTO public.question_choices VALUES ('204d57b4-4e3d-4147-9be4-0e1afb5afa1f', 'dfaad579-bcb9-4217-a231-1c00961f97cc', '4', true);
INSERT INTO public.question_choices VALUES ('907a4a17-7d69-47df-a32d-43ff55865e42', 'dfaad579-bcb9-4217-a231-1c00961f97cc', '1', false);
INSERT INTO public.question_choices VALUES ('2f19af60-cdc8-4dba-9de3-24a10a85e984', 'dfaad579-bcb9-4217-a231-1c00961f97cc', '2', false);
INSERT INTO public.question_choices VALUES ('19609867-bc63-4db5-a4b5-11bc0a3a1bb8', 'dfaad579-bcb9-4217-a231-1c00961f97cc', '3', false);


--
-- Data for Name: question_exams; Type: TABLE DATA; Schema: public; Owner: admin
--



--
-- Data for Name: questions; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.questions VALUES ('68102cd3-e903-4b34-8de8-68192ce8939d', 'What is 2+2 is?', 'choice', '76c778ed-d24b-4f52-a514-aa5203e410cd', NULL, NULL, NULL);
INSERT INTO public.questions VALUES ('dfaad579-bcb9-4217-a231-1c00961f97cc', 'What is the square root of 16?', 'choice', '204d57b4-4e3d-4147-9be4-0e1afb5afa1f', NULL, NULL, NULL);


--
-- Data for Name: student_answers; Type: TABLE DATA; Schema: public; Owner: admin
--



--
-- Data for Name: student_schedule; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.student_schedule VALUES ('6ad3f129-4a42-4e18-941c-e90f7e86760e', 'dcd3aaee-391b-4d72-9994-ba2a6409cb2c', '2023-10-20 21:00:00.229+00', '2023-10-20 22:00:00.388+00');


--
-- Data for Name: students; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.students VALUES ('dcd3aaee-391b-4d72-9994-ba2a6409cb2c', 'de6a27a2-3cba-475a-a17e-70a512925d3d');
INSERT INTO public.students VALUES ('2852ed68-c7e6-4655-9f1a-7baede899f06', '659074a0-22a8-47ba-9acc-6d55a9df84fb');


--
-- Data for Name: subjects; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.subjects VALUES ('282f8c86-1432-4e8f-8f3c-a49bedf931dd', 'Mathematics');
INSERT INTO public.subjects VALUES ('d24a4a07-9576-48dd-ad6b-daad5fe05058', 'Physics');


--
-- Data for Name: teacher_schedule; Type: TABLE DATA; Schema: public; Owner: admin
--



--
-- Data for Name: teachers; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.teachers VALUES ('ac0b6326-0ee3-4acb-bc17-a2f43a5e74ae', 'c3f04a30-38ac-474d-b7da-8fb889495d75');


--
-- Data for Name: university; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.university VALUES (1, 'Universitas Gunadarma');


--
-- Data for Name: university_faculty; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.university_faculty VALUES (40000, 1, 'Sistem Informasi');


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.users VALUES ('de6a27a2-3cba-475a-a17e-70a512925d3d', 'mahasiswa2@dikti.go.id', '$argon2id$v=19$m=19456,t=2,p=1$h0CM9qGfJDs5KhagNdn5fQ$UaoLAHE2a/28FjlKacFk4Ll5aA0p45jSVXSgmVbT7vQ', 'IniMahasiswa2', false, '2023-09-18 03:16:55.667156+00', 'user', '2023-09-18 03:16:55.667156+00');
INSERT INTO public.users VALUES ('c3f04a30-38ac-474d-b7da-8fb889495d75', 'dosen@dikti.go.id', '$argon2id$v=19$m=19456,t=2,p=1$S0+9eG3WoW8BXYYyBmUdJA$LhqA6r3EdfX/aEg5qEN24+ofkjdl43dF93+wCqtn0Qk', 'IniDosen', false, '2023-09-18 03:16:45.424017+00', 'user', '2023-09-18 03:16:45.424017+00');
INSERT INTO public.users VALUES ('659074a0-22a8-47ba-9acc-6d55a9df84fb', 'mahasiswa@dikti.go.id', '$argon2id$v=19$m=19456,t=2,p=1$cKV3nHlHNpUiv/OsyIQT6A$XjdcDv1jWq3IJBVX1gv5UfOruXr0b0jVCCyoO6orHHQ', 'IniMahasiswa', false, '2023-09-18 03:16:35.539074+00', 'user', '2023-09-18 03:16:35.539074+00');


--
-- Data for Name: users_external_authentication; Type: TABLE DATA; Schema: public; Owner: admin
--



--
-- Data for Name: users_identity; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.users_identity VALUES (0, '659074a0-22a8-47ba-9acc-6d55a9df84fb', 'Nama Lengkap Mahasiswa', 'male');
INSERT INTO public.users_identity VALUES (2, 'c3f04a30-38ac-474d-b7da-8fb889495d75', 'Nama Lengkap Dosen', 'male');
INSERT INTO public.users_identity VALUES (1, 'de6a27a2-3cba-475a-a17e-70a512925d3d', 'Nama 2 Mahasiswa', 'male');


--
-- Data for Name: users_university_identity; Type: TABLE DATA; Schema: public; Owner: admin
--

INSERT INTO public.users_university_identity VALUES (111200031, '659074a0-22a8-47ba-9acc-6d55a9df84fb', 0, 'mahasiswa', 1, 40000);
INSERT INTO public.users_university_identity VALUES (111200032, 'de6a27a2-3cba-475a-a17e-70a512925d3d', 1, 'mahasiswa', 1, 40000);
INSERT INTO public.users_university_identity VALUES (111120033, 'c3f04a30-38ac-474d-b7da-8fb889495d75', 2, 'dosen', 1, 40000);


--
-- Name: blockchain_authentication_blockchain_auth_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.blockchain_authentication_blockchain_auth_id_seq', 1, false);


--
-- Name: university_university_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.university_university_id_seq', 1, false);


--
-- Name: users_external_authentication_external_authentication_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.users_external_authentication_external_authentication_id_seq', 1, false);


--
-- Name: users_identity_users_identity_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.users_identity_users_identity_id_seq', 0, false);


--
-- Name: _sqlx_migrations _sqlx_migrations_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public._sqlx_migrations
    ADD CONSTRAINT _sqlx_migrations_pkey PRIMARY KEY (version);


--
-- Name: blockchain_authentication blockchain_authentication_public_address_key; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.blockchain_authentication
    ADD CONSTRAINT blockchain_authentication_public_address_key UNIQUE (public_address);


--
-- Name: blockchain_authentication blockchain_external_authentication_id_key; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.blockchain_authentication
    ADD CONSTRAINT blockchain_external_authentication_id_key PRIMARY KEY (blockchain_auth_id);


--
-- Name: class_grades class_grades_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.class_grades
    ADD CONSTRAINT class_grades_pk PRIMARY KEY (class_id, grade_id, student_id);


--
-- Name: class_schedule class_schedule_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.class_schedule
    ADD CONSTRAINT class_schedule_pk PRIMARY KEY (class_id, schedule_id);


--
-- Name: class_students class_students_unique_class_id_student_id; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.class_students
    ADD CONSTRAINT class_students_unique_class_id_student_id PRIMARY KEY (class_id, student_id);


--
-- Name: class_teachers class_teachers_unique_class_id_teacher_id; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.class_teachers
    ADD CONSTRAINT class_teachers_unique_class_id_teacher_id PRIMARY KEY (class_id, teacher_id);


--
-- Name: classes classes_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.classes
    ADD CONSTRAINT classes_pk PRIMARY KEY (class_id);


--
-- Name: classes classes_unique_class_id_subject_id; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.classes
    ADD CONSTRAINT classes_unique_class_id_subject_id UNIQUE (class_id, subject_id);


--
-- Name: exam_sessions exam_sessions_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.exam_sessions
    ADD CONSTRAINT exam_sessions_pk PRIMARY KEY (session_id, exam_id, user_id);


--
-- Name: exam_settings exam_settings_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.exam_settings
    ADD CONSTRAINT exam_settings_pk PRIMARY KEY (exam_id);


--
-- Name: exams exams_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.exams
    ADD CONSTRAINT exams_pk PRIMARY KEY (exam_id);


--
-- Name: exams exams_pk3; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.exams
    ADD CONSTRAINT exams_pk3 UNIQUE (class_id);


--
-- Name: exams exams_pk4; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.exams
    ADD CONSTRAINT exams_pk4 UNIQUE (subject_id);


--
-- Name: exams_score exams_score_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.exams_score
    ADD CONSTRAINT exams_score_pk PRIMARY KEY (user_id, exam_id);


--
-- Name: game game_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.game
    ADD CONSTRAINT game_pk PRIMARY KEY (version);


--
-- Name: notification notification_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.notification
    ADD CONSTRAINT notification_pk PRIMARY KEY (notification_id, user_id);


--
-- Name: question_choices question_choices_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.question_choices
    ADD CONSTRAINT question_choices_pk PRIMARY KEY (choice_id);


--
-- Name: question_exams question_exams_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.question_exams
    ADD CONSTRAINT question_exams_pk PRIMARY KEY (exam_id, question_id);


--
-- Name: questions questions_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.questions
    ADD CONSTRAINT questions_pk PRIMARY KEY (question_id);


--
-- Name: student_answers student_answers_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.student_answers
    ADD CONSTRAINT student_answers_pk PRIMARY KEY (answer_id);


--
-- Name: student_schedule student_schedule_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.student_schedule
    ADD CONSTRAINT student_schedule_pk PRIMARY KEY (student_id, schedule_id);


--
-- Name: students students_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.students
    ADD CONSTRAINT students_pk PRIMARY KEY (student_id);


--
-- Name: students students_pk2; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.students
    ADD CONSTRAINT students_pk2 UNIQUE (student_id);


--
-- Name: students students_unique_student_id_user_id; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.students
    ADD CONSTRAINT students_unique_student_id_user_id UNIQUE (student_id, user_id);


--
-- Name: subjects subjects_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.subjects
    ADD CONSTRAINT subjects_pk PRIMARY KEY (subject_id);


--
-- Name: subjects subjects_pk2; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.subjects
    ADD CONSTRAINT subjects_pk2 UNIQUE (subject_id);


--
-- Name: teacher_schedule teacher_schedule_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.teacher_schedule
    ADD CONSTRAINT teacher_schedule_pk PRIMARY KEY (schedule_id, teacher_id);


--
-- Name: teachers teachers_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.teachers
    ADD CONSTRAINT teachers_pk PRIMARY KEY (teacher_id);


--
-- Name: teachers teachers_pk2; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.teachers
    ADD CONSTRAINT teachers_pk2 UNIQUE (teacher_id);


--
-- Name: teachers teachers_unique_teacher_id_user_id; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.teachers
    ADD CONSTRAINT teachers_unique_teacher_id_user_id UNIQUE (teacher_id, user_id);


--
-- Name: university_faculty university_faculty_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.university_faculty
    ADD CONSTRAINT university_faculty_pkey PRIMARY KEY (faculty_id);


--
-- Name: university university_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.university
    ADD CONSTRAINT university_pkey PRIMARY KEY (university_id);


--
-- Name: users users_email_key; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_email_key UNIQUE (email);


--
-- Name: users_external_authentication users_external_authentication_blockchain_auth_id_key; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_external_authentication
    ADD CONSTRAINT users_external_authentication_blockchain_auth_id_key UNIQUE (blockchain_auth_id);


--
-- Name: users_external_authentication users_external_authentication_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_external_authentication
    ADD CONSTRAINT users_external_authentication_pkey PRIMARY KEY (external_authentication_id);


--
-- Name: users_identity users_identity_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_identity
    ADD CONSTRAINT users_identity_pk PRIMARY KEY (users_identity_id);


--
-- Name: users_identity users_identity_pk2; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_identity
    ADD CONSTRAINT users_identity_pk2 UNIQUE (full_name);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (user_id);


--
-- Name: users_university_identity users_university_identity_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_university_identity
    ADD CONSTRAINT users_university_identity_pkey PRIMARY KEY (users_university_id);


--
-- Name: student_answers answers_choices_choice_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.student_answers
    ADD CONSTRAINT answers_choices_choice_id_fk FOREIGN KEY (choice_answer_id) REFERENCES public.question_choices(choice_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: class_grades class_grades_classes_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.class_grades
    ADD CONSTRAINT class_grades_classes_null_fk FOREIGN KEY (class_id) REFERENCES public.classes(class_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: class_grades class_grades_students_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.class_grades
    ADD CONSTRAINT class_grades_students_null_fk FOREIGN KEY (student_id) REFERENCES public.students(student_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: class_schedule class_schedule_classes_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.class_schedule
    ADD CONSTRAINT class_schedule_classes_null_fk FOREIGN KEY (class_id) REFERENCES public.classes(class_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: class_students class_students_classes_class_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.class_students
    ADD CONSTRAINT class_students_classes_class_id_fk FOREIGN KEY (class_id) REFERENCES public.classes(class_id);


--
-- Name: class_students class_students_students_student_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.class_students
    ADD CONSTRAINT class_students_students_student_id_fk FOREIGN KEY (student_id) REFERENCES public.students(student_id);


--
-- Name: class_teachers class_teachers_classes_class_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.class_teachers
    ADD CONSTRAINT class_teachers_classes_class_id_fk FOREIGN KEY (class_id) REFERENCES public.classes(class_id);


--
-- Name: class_teachers class_teachers_teachers_teacher_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.class_teachers
    ADD CONSTRAINT class_teachers_teachers_teacher_id_fk FOREIGN KEY (teacher_id) REFERENCES public.teachers(teacher_id);


--
-- Name: classes classes_subjects_subject_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.classes
    ADD CONSTRAINT classes_subjects_subject_id_fk FOREIGN KEY (subject_id) REFERENCES public.subjects(subject_id);


--
-- Name: exam_sessions exam_sessions_exams_exam_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.exam_sessions
    ADD CONSTRAINT exam_sessions_exams_exam_id_fk FOREIGN KEY (exam_id) REFERENCES public.exams(exam_id);


--
-- Name: exam_sessions exam_sessions_users_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.exam_sessions
    ADD CONSTRAINT exam_sessions_users_user_id_fk FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- Name: exam_settings exam_settings_exams_exam_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.exam_settings
    ADD CONSTRAINT exam_settings_exams_exam_id_fk FOREIGN KEY (exam_id) REFERENCES public.exams(exam_id);


--
-- Name: exams exams_classes_class_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.exams
    ADD CONSTRAINT exams_classes_class_id_fk FOREIGN KEY (class_id) REFERENCES public.classes(class_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: exams_score exams_score_exams_exam_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.exams_score
    ADD CONSTRAINT exams_score_exams_exam_id_fk FOREIGN KEY (exam_id) REFERENCES public.exams(exam_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: exams_score exams_score_users_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.exams_score
    ADD CONSTRAINT exams_score_users_user_id_fk FOREIGN KEY (user_id) REFERENCES public.users(user_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: exams exams_subjects_subject_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.exams
    ADD CONSTRAINT exams_subjects_subject_id_fk FOREIGN KEY (subject_id) REFERENCES public.subjects(subject_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: exams exams_users_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.exams
    ADD CONSTRAINT exams_users_user_id_fk FOREIGN KEY (created_by) REFERENCES public.users(user_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: users_external_authentication external_authentication_blockchain_authentication_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_external_authentication
    ADD CONSTRAINT external_authentication_blockchain_authentication_null_fk FOREIGN KEY (blockchain_auth_id) REFERENCES public.blockchain_authentication(blockchain_auth_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: notification notification_users_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.notification
    ADD CONSTRAINT notification_users_null_fk FOREIGN KEY (user_id) REFERENCES public.users(user_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: question_choices question_choices_questions_question_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.question_choices
    ADD CONSTRAINT question_choices_questions_question_id_fk FOREIGN KEY (question_id) REFERENCES public.questions(question_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: question_exams question_exams_exams_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.question_exams
    ADD CONSTRAINT question_exams_exams_null_fk FOREIGN KEY (exam_id) REFERENCES public.exams(exam_id);


--
-- Name: questions questions_question_choices_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.questions
    ADD CONSTRAINT questions_question_choices_null_fk FOREIGN KEY (choice_answer_id) REFERENCES public.question_choices(choice_id);


--
-- Name: student_answers student_answers_questions_question_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.student_answers
    ADD CONSTRAINT student_answers_questions_question_id_fk FOREIGN KEY (question_id) REFERENCES public.questions(question_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: student_answers student_answers_users_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.student_answers
    ADD CONSTRAINT student_answers_users_user_id_fk FOREIGN KEY (user_id) REFERENCES public.users(user_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: student_schedule student_schedule_students_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.student_schedule
    ADD CONSTRAINT student_schedule_students_null_fk FOREIGN KEY (student_id) REFERENCES public.students(student_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: students students_users_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.students
    ADD CONSTRAINT students_users_user_id_fk FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- Name: teacher_schedule teacher_schedule_teachers_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.teacher_schedule
    ADD CONSTRAINT teacher_schedule_teachers_null_fk FOREIGN KEY (teacher_id) REFERENCES public.teachers(teacher_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: teachers teachers_users_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.teachers
    ADD CONSTRAINT teachers_users_user_id_fk FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- Name: university_faculty university_major_university_university_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.university_faculty
    ADD CONSTRAINT university_major_university_university_id_fk FOREIGN KEY (university_id) REFERENCES public.university(university_id);


--
-- Name: users_external_authentication users_external_authentication_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_external_authentication
    ADD CONSTRAINT users_external_authentication_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: users_identity users_identity_users_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_identity
    ADD CONSTRAINT users_identity_users_id_fkey FOREIGN KEY (users_id) REFERENCES public.users(user_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: users_university_identity users_university_identity_university_faculty_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_university_identity
    ADD CONSTRAINT users_university_identity_university_faculty_id_fkey FOREIGN KEY (university_faculty_id) REFERENCES public.university_faculty(faculty_id);


--
-- Name: users_university_identity users_university_identity_university_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_university_identity
    ADD CONSTRAINT users_university_identity_university_id_fkey FOREIGN KEY (university_id) REFERENCES public.university(university_id);


--
-- Name: users_university_identity users_university_identity_users_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_university_identity
    ADD CONSTRAINT users_university_identity_users_id_fkey FOREIGN KEY (users_id) REFERENCES public.users(user_id);


--
-- Name: users_university_identity users_university_identity_users_identity_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_university_identity
    ADD CONSTRAINT users_university_identity_users_identity_id_fkey FOREIGN KEY (users_identity_id) REFERENCES public.users_identity(users_identity_id);


--
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: pg_database_owner
--

REVOKE USAGE ON SCHEMA public FROM PUBLIC;


--
-- PostgreSQL database dump complete
--

